(this.webpackJsonpgpsproj=this.webpackJsonpgpsproj||[]).push([[0],{36:function(e,a,t){e.exports=t.p+"static/media/logo.64f291c9.png"},37:function(e,a,t){e.exports=t(71)},42:function(e,a,t){},44:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(34),r=t.n(s),c=t(4),i=t(5),o=t(7),m=t(6),d=t(9),u=t(2),p=(t(42),t(1)),h=t.n(p),E=t(10),b=t(15),f=(t(44),t(3)),v=t.n(f),y=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).listMessage=[],n.initListMNMessage=n.initListMNMessage.bind(Object(b.a)(n)),n.handleMessage=n.handleMessage.bind(Object(b.a)(n)),n.responseMailToast=n.responseMailToast.bind(Object(b.a)(n)),n.refName=l.a.createRef(),n.refEmail=l.a.createRef(),n.refMessage=l.a.createRef(),n.refWonder=l.a.createRef(),n.refBtnReply=l.a.createRef(),n.nowResponse="",n.nowEmail="",n}return Object(i.a)(t,[{key:"initListMNMessage",value:function(){var e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/adm-message/get-mini-list");case 2:this.listMessage=e.sent.data,this.setState({});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.initListMNMessage()}},{key:"handleMessage",value:function(){var e=Object(E.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.nowResponse=a._id,this.refName.current.innerText=a.Fname+" "+a.Lname,this.nowEmail=this.refEmail.current.innerText=a.Email,document.getElementById("span-time").innerText=parseInt((new Date-new Date(a.Date))/36e5),e.next=6,v.a.post("/adm-message/get-full-msg",{userID:a._id});case 6:this.refMessage.current.innerText=e.sent.data,this.refWonder.current.style.display="none",this.refBtnReply.current.style.display="inline-block";case 9:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"initOriginalValue",value:function(){this.refName.current.innerText="Customer name",this.nowEmail="Customer email",document.getElementById("span-time").innerText=0,this.refMessage.current.innerText="",this.refWonder.current.style.display="inline-block",this.refBtnReply.current.style.display="none"}},{key:"showToast",value:function(){document.getElementById("toastss").classList.toggle("show")}},{key:"responseMailToast",value:function(){var e=this,a=document.getElementById("toastTextArea").value;v.a.post("/adm-message/send-mail",{message:a,userID:this.nowResponse,recieveMail:this.nowEmail});var t=this.listMessage.findIndex((function(a){return a._id===e.nowResponse}));this.listMessage.splice(t,1),this.setState({}),this.initOriginalValue(),this.showToast()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"toastss",id:"toastss",role:"alert","aria-live":"assertive","aria-atomic":"true"},l.a.createElement("div",{className:"toasts-header "},l.a.createElement("button",{onClick:this.showToast,type:"button",className:" mb-1 mr-2 close","data-dismiss":"toast","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")),l.a.createElement("strong",null,l.a.createElement("span",{id:"res-email"},"B\xf9i Phi Long")),l.a.createElement("button",{onClick:this.responseMailToast,type:"button",className:" ml-auto mb-1 close","data-dismiss":"toast","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},l.a.createElement("i",{className:"fas fa-paper-plane"})))),l.a.createElement("div",{className:"toasts-body"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," Email: "),l.a.createElement("span",{id:"cusEmail"},"long.builong.bui@hcmut.edu.vn")," "),l.a.createElement("div",{className:"input-group"},l.a.createElement("textarea",{style:{height:"300px"},id:"toastTextArea",className:"form-control","aria-label":"With textarea",defaultValue:""})))),l.a.createElement("div",{className:"col-md-2 bg-dark-linear"},l.a.createElement(N,null)),l.a.createElement("div",{className:"col-md-10 maining"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 mini-message"},this.listMessage.map((function(a,t){return l.a.createElement(g,{key:t,data:a,handleMessage:e.handleMessage})}))),l.a.createElement("div",{className:"col-md-7 response-message"},l.a.createElement("div",{className:"jumbotrons"},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"ml-auto"},l.a.createElement("button",{ref:this.refBtnReply,onClick:this.showToast,className:"btn btn-info btn-lg",style:{display:"none"}},"Reply"))),l.a.createElement("h1",{className:"display-4",ref:this.refName},"Customer name"),l.a.createElement("p",{className:"lead",ref:this.refEmail},"Customer email"),l.a.createElement("small",null,l.a.createElement("i",null," ",l.a.createElement("span",{id:"span-time"},"0")," hours ago ")),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"",ref:this.refWonder,style:{width:"100%"}},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("div",{className:"spinner-grow text-info",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))),l.a.createElement("p",{ref:this.refMessage})))))))}}]),t}(l.a.Component),g=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).refName=l.a.createRef(),n}return Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"peer-mini-message",onClick:function(){return e.props.handleMessage(e.props.data)}},l.a.createElement("div",{className:"peer-mini-heading d-flex justify-content-between"},l.a.createElement("div",{className:"peer-mini-cusname"},this.props.data.Fname+" "+this.props.data.Lname),l.a.createElement("div",{className:"peer-mini-cusmail"},this.props.data.Email)),l.a.createElement("div",{className:"dropdown-divider",style:{border:"solid 1px lightgray"}}),l.a.createElement("div",{className:"peer-mini-mesdescrp"},this.props.data.message))}}]),t}(l.a.Component),N=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:" pt-2 pb-2 styling"},l.a.createElement("div",{className:"listActive text-light pl-4",style:{fontWeight:500}},l.a.createElement("div",{className:"active-header"},l.a.createElement("p",{className:"head-title",id:"authSignUp",type:"button","data-toggle":"collapse","data-target":"#dashboardNav","aria-controls":"dashboardNav","aria-expanded":"true","aria-label":"Toggle navigation"},l.a.createElement("i",{className:"fas fa-fill-drip"})," Patrons"),l.a.createElement("p",{className:"dropdown-divider"}),l.a.createElement("div",{className:"activeChildrenList collapse",id:"dashboardNav"},l.a.createElement("p",{className:"per-child"},"Standard "),l.a.createElement("p",{className:"per-child"},"Advance "))),l.a.createElement("div",{className:"active-header"},l.a.createElement("p",{className:"head-title",id:"authSignUp",type:"button","data-toggle":"collapse","data-target":"#dashboardNav2","aria-controls":"dashboardNav2","aria-expanded":"true","aria-label":"Toggle navigation"},l.a.createElement("i",{className:"fas fa-chart-line"})," Guest"),l.a.createElement("p",{className:"dropdown-divider"}),l.a.createElement("div",{className:"activeChildrenList collapse",id:"dashboardNav2"},l.a.createElement(d.b,{className:"per-child",to:"/admin/analysis/account-options"},"Account "),l.a.createElement(d.b,{className:"per-child",to:"/admin/analysis/device-options"},"Device "),l.a.createElement(d.b,{className:"per-child",to:"/admin/analysis/income-information"},"Income ")))))}}]),t}(l.a.Component),x=t(36),w=t.n(x),k=(t(66),t(16)),C=t.n(k),j=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement(S,null),l.a.createElement(R,null),l.a.createElement(T,null),l.a.createElement(O,null),l.a.createElement(B,null))}}]),t}(l.a.Component),O=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"initChart",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/admin-home/get-mini-acc-state");case 2:a=e.sent.data,new C.a(document.getElementById("canvas-nb0"),{type:"polarArea",data:{labels:["Normal","Royalty","Expire"],datasets:[{label:"Population (millions)",backgroundColor:["#3e95cd","#8e5ea2","#b8161e"],data:[a[0].count,a[1].count,a[2].count]}]},options:{title:{display:!0,text:"Account State"}}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.initChart()}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"peer-mini-dash"},l.a.createElement("div",{className:"mini-dash-head d-flex mb-3 pb-2"},l.a.createElement("div",{className:"mini-dh-title ml-2",style:{fontWeight:500}},"AccountState"),l.a.createElement(d.b,{to:"/admin/analysis/account-options",className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-ellipsis-h"}))),l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb0",height:"350px"})))))}}]),t}(l.a.Component),R=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).initRef=l.a.createRef(),n}return Object(i.a)(t,[{key:"initChart",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/admin-home/get-mini-acc-level");case 2:a=e.sent.data,t=[a[0].count,a[1].count,a[2].count];try{this.initRef.current.textContent=t.reduce((function(e,a){return e+a}))}catch(n){}new C.a(document.getElementById("canvas-nb1"),{type:"doughnut",data:{datasets:[{label:"Population (millions)",backgroundColor:["#b3b3b3","#425af5","#b8161e"],data:t}],labels:["Standard","Intermediate","Premium"]},options:{title:{display:!0,text:"About customer level",position:"bottom"},legend:{position:"left"}}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.initChart()}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"peer-mini-dash"},l.a.createElement("div",{className:"mini-dash-head d-flex mb-3 pb-2"},l.a.createElement("div",{className:"mini-dh-title ml-2",style:{fontWeight:500}},"Account Level"),l.a.createElement(d.b,{to:"/admin/analysis/account-options",className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-ellipsis-h"}))),l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{ref:this.initRef,className:"mini-db-des d-flex align-items-center justify-content-center",style:{width:"200px",fontSize:"2em",fontWeight:500}},"64"),l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb1"})))))}}]),t}(l.a.Component),T=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"componentDidMount",value:function(){new C.a(document.getElementById("canvas-nb2"),{type:"line",data:{labels:[15,16,17,17,18,18,19,19,19,20],datasets:[{data:[86,114,106,106,107,111,133,221,783,2478]}]},options:{title:{display:!0,text:"Total income"},legend:{display:!1}}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"peer-mini-dash"},l.a.createElement("div",{className:"mini-dash-head d-flex mb-3 pb-2"},l.a.createElement("div",{className:"mini-dh-title ml-2",style:{fontWeight:500}},"Income"),l.a.createElement("div",{className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-ellipsis-h"}))),l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{className:"mini-db-des d-flex align-items-center justify-content-center",style:{fontSize:"2em",fontWeight:500}},"99M"),l.a.createElement("div",{className:"mini-db-show ml-auto"},l.a.createElement("canvas",{id:"canvas-nb2"})))))}}]),t}(l.a.Component),S=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).initRef=l.a.createRef(),n}return Object(i.a)(t,[{key:"initChart",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/admin-home/get-mini-device");case 2:a=e.sent.data;try{this.initRef.current.textContent=a.reduce((function(e,a){return e+a}))}catch(t){}new C.a(document.getElementById("canvas-nb3"),{type:"doughnut",data:{datasets:[{label:"Population (millions)",backgroundColor:["#edeef0","#0d0d0d"],data:a}],labels:["LED","GPS"]},options:{title:{display:!0,text:"About ratio of device",position:"bottom"},legend:{position:"left"}}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.initChart()}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"peer-mini-dash"},l.a.createElement("div",{className:"mini-dash-head d-flex mb-3 pb-2"},l.a.createElement("div",{className:"mini-dh-title ml-2",style:{fontWeight:500}},"Device"),l.a.createElement("div",{className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-ellipsis-h"}))),l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{ref:this.initRef,className:"mini-db-des d-flex align-items-center justify-content-center",style:{width:"200px",fontSize:"2em",fontWeight:500}},"12"),l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb3"})))))}}]),t}(l.a.Component),B=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).initRef=l.a.createRef(),n}return Object(i.a)(t,[{key:"initChart",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/admin/get-account-development-dashboard",{dashboardType:0,displayType:1});case 2:a=e.sent.data;try{this.initRef.current.textContent=a.data.reduce((function(e,a){return e+a}))}catch(t){this.initRef.current.textContent=0}new C.a(document.getElementById("canvas-nb4"),{type:"line",data:{labels:a.labels,datasets:[{data:a.data,lineTension:0,backgroundColor:"transparent",borderColor:"#007bff",borderWidth:3,pointBackgroundColor:"#007bff",borderDash:[20,.5]}]},options:{responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!1,fontSize:13}}],xAxes:[{ticks:{beginAtZero:!1,fontSize:13}}]},legend:{display:!1},title:{display:!0,fontSize:16,text:"Growth in the last 7 days"}}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.initChart()}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"peer-mini-dash"},l.a.createElement("div",{className:"mini-dash-head d-flex mb-3 pb-2"},l.a.createElement("div",{className:"mini-dh-title ml-2",style:{fontWeight:500}},"Account growth"),l.a.createElement(d.b,{to:"/admin/analysis/account-options",className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-ellipsis-h"}))),l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{ref:this.initRef,className:"mini-db-des d-flex align-items-center justify-content-center",style:{width:"200px",fontSize:"2em",fontWeight:500}},"200"),l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb4",width:"700px"})))))}}]),t}(l.a.Component),A=(t(70),t(19)),M=t.n(A),D=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).dashRef=l.a.createRef(),n.showRef=l.a.createRef(),n.clusterRef=l.a.createRef(),n.changeDashStyle=n.changeDashStyle.bind(Object(b.a)(n)),n.transformGrowth=n.transformGrowth.bind(Object(b.a)(n)),n.handleKeyPress=n.handleKeyPress.bind(Object(b.a)(n)),n.clusterAnalyze=n.clusterAnalyze.bind(Object(b.a)(n)),n.nowState=[0,1],n.dashGrowthType=["Weekly","Monthly"],n.showGrowthType=[["Now week","7 days"],["Now month","30 days"]],n.listRefs=[l.a.createRef(),l.a.createRef(),l.a.createRef(),l.a.createRef()],n.listAccount=[],n.listCluster=[],n}return Object(i.a)(t,[{key:"initChart",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/admin-home/get-mini-acc-level");case 2:return a=e.sent.data,t=[a[0].count,a[1].count,a[2].count],new C.a(document.getElementById("canvas-nb1"),{type:"doughnut",data:{datasets:[{label:"Population (millions)",backgroundColor:["#b3b3b3","#425af5","#b8161e"],data:t}],labels:["Standard","Intermediate","Premium"]},options:{title:{display:!0,text:"About customer level",position:"bottom"},legend:{position:"left"}}}),e.next=7,v.a.post("/admin-home/get-mini-acc-state");case 7:return a=e.sent.data,new C.a(document.getElementById("canvas-nb0"),{type:"polarArea",data:{labels:["Normal","Royalty","Expire"],datasets:[{label:"Population (millions)",backgroundColor:["#3e95cd","#8e5ea2","#b8161e"],data:[a[0].count,a[1].count,a[2].count]}]},options:{}}),e.next=11,v.a.post("/admin/get-account-development-dashboard",{dashboardType:0,displayType:1});case 11:a=e.sent.data,this.GrowtChart=new C.a(document.getElementById("canvas-nb2"),{type:"line",data:{labels:a.labels,datasets:[{data:a.data,lineTension:0,backgroundColor:"transparent",borderColor:"#007bff",borderWidth:3,pointBackgroundColor:"#007bff",borderDash:[20,.5]}]},options:{responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!1,fontSize:13}}],xAxes:[{ticks:{beginAtZero:!1,fontSize:13}}]},legend:{display:!1},title:{display:!0,fontSize:16,text:"Growth in the last 7 days"}}}),this.scatterChart=new C.a(document.getElementById("canvas-scatter"),{type:"scatter",data:{datasets:[{label:"Scatter Dataset",pointBackgroundColor:"yellow",data:[{x:-10,y:0},{x:0,y:10},{x:3,y:8},{x:1,y:4},{x:9,y:1},{x:-1,y:5}]}]},options:{legend:{display:!0},scales:{xAxes:[{type:"linear",position:"bottom"}]}}});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.initChart(),this.initTblAccount(),M()("#accountTbl").on("shown.bs.collapse",(function(){this.scrollIntoView()})),M()("#accCluster").on("shown.bs.collapse",(function(){this.scrollIntoView()}))}},{key:"changeDashStyle",value:function(e){this.nowState[e]=1^this.nowState[e],this.dashRef.current.textContent=this.dashGrowthType[this.nowState[0]],this.showRef.current.textContent=this.showGrowthType[this.nowState[0]][this.nowState[1]],this.transformGrowth()}},{key:"transformGrowth",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/admin/get-account-development-dashboard",{dashboardType:this.nowState[0],displayType:this.nowState[1]});case 2:a=e.sent.data,console.log(a),this.GrowtChart.data.datasets[0].data=a.data,this.GrowtChart.data.labels=a.labels,this.GrowtChart.update();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initTblAccount",value:function(){var e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/adm/get-full-account-to-render");case 2:this.listAccount=e.sent.data,this.setState({});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"displayToast",value:function(){var e=Object(E.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("toasts").style.display="block",e.next=3,v.a.post("/adm/get-peer-profile",{id:a});case 3:t=e.sent.data,document.getElementById("cusID").textContent=t.id,document.getElementById("cusLevel").textContent=t.Level,document.getElementById("cusAddr").textContent=t.Address,document.getElementById("cusContact").textContent=t.Contact,document.getElementById("cusEmail").textContent=t.Email,document.getElementById("cusDOB").textContent=t.DOB,document.getElementById("cusState").textContent=t.State,document.getElementById("cusname").textContent=t.FullName,document.getElementById("countDayLeave").textContent=parseInt(Math.ceil(((new Date).getTime()-Date.parse(t.LastAccess))/864e5));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"closeToast",value:function(){document.getElementById("toasts").style.display="none"}},{key:"exportPngChart",value:function(e){var a=document.getElementById("canvas-nb"+e).toDataURL("image/png"),t=document.createElement("a");t.href=a,t.download="Img_"+e+".png",t.click(),t.remove()}},{key:"handleKeyPress",value:function(){var e,a,t,n,l;e=document.getElementById("tbl-body").getElementsByTagName("tr");var s=this.listRefs.map((function(e){return e.current.value.toUpperCase()})),r=s.length;for(t=0;t<e.length;t++){for(a=e[t].getElementsByTagName("td"),n=0,l=!0;n<r;n++)if(""!==s[n]){if(l=!1,!(a[n].textContent.toUpperCase().indexOf(s[n])>-1)){e[t].style.display="none";break}e[t].style.display=""}l&&(e[t].style.display="")}}},{key:"clusterAnalyze",value:function(){var e=Object(E.a)(h.a.mark((function e(){var a,t,n,l,s,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.listCluster=[],a=this.clusterRef.current.value,e.next=4,v.a.post("/adm-account/kmean-clustering",{num:a});case 4:t=e.sent.data,n=t.data,(l=t.kmean).forEach((function(e){for(var a=1e9,t=0,l=17e11,s=0,c=e.cluster,i=0;i<c.length;i++)a>c[i][0]?a=c[i][0]:t<c[i][0]&&(t=c[i][0]),l>c[i][1]?l=c[i][1]:s<c[i][1]&&(s=c[i][1]);r.listCluster.push({kernel:"["+e.centroid[0]+" , "+e.centroid[1]+"]",minB:a,maxB:t,minT:l,maxT:s,data:e.clusterInd.map((function(e){return[n[e]._id,n[e].Fname+" "+n[e].Lname,n[e].Balance,n[e].DateIn]}))})})),s=this.parseDataset(l),console.log(s),this.scatterChart.data.datasets=s,this.scatterChart.update(),"none"===document.getElementById("canvas-scatter").style.display&&(document.getElementById("canvas-scatter").style.display="inline-block"),this.setState({});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseDataset",value:function(e){for(var a=[],t=["yellow","green","blue","red","purple","brown"],n=[],l=0;l<e.length;l++)n.push({x:e[l].centroid[0],y:e[l].centroid[1]}),a.push({label:"Cluster "+l,pointBackgroundColor:t[l],data:e[l].cluster.map((function(e){return{x:e[0],y:e[1]}}))});return a.push({pointStyle:"triangle",pointRadius:10,label:"Centeroid",pointBackgroundColor:"black",data:n}),a}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{paddingLeft:"10px"}},l.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},l.a.createElement("h1",{className:"h2"},"Dashboard")),l.a.createElement("div",{className:"dashboard-frame"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"peer-mini-dashs",style:{borderRight:"solid 1px black"}},l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb0",height:"350px"})),l.a.createElement("p",{onClick:function(){return e.exportPngChart(0)},className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-file-export"})))),l.a.createElement("div",{className:"peer-mini-dashs",style:{borderRight:"solid 1px black"}},l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb1"})),l.a.createElement("p",{onClick:function(){return e.exportPngChart(1)},className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-file-export"}))))),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"peer-mini-dashs mt-4"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"mini-dh-icon"},l.a.createElement("div",{className:"btn-group mr-2"},l.a.createElement("button",{ref:this.dashRef,type:"button",onClick:function(){return e.changeDashStyle(0)},className:"btn btn-sm btn-outline-secondary"},"Week"),l.a.createElement("button",{ref:this.showRef,type:"button",onClick:function(){return e.changeDashStyle(1)},className:"btn btn-sm btn-outline-secondary"},"7 days"))),l.a.createElement("p",{onClick:function(){return e.exportPngChart(2)},className:"mini-dh-icon ml-auto mr-2"},l.a.createElement("i",{className:"fas fa-file-export"}))),l.a.createElement("div",{className:"mini-dash-body d-flex"},l.a.createElement("div",{className:"mini-db-show mr-2"},l.a.createElement("canvas",{id:"canvas-nb2",width:"830px"})))))),l.a.createElement("br",null),l.a.createElement("div",{className:"dropdown-divider",style:{border:"solid 1px gray"}}),l.a.createElement("h2",{style:{cursor:"pointer"},"data-toggle":"collapse","data-target":"#accCluster","aria-controls":"accCluster","aria-expanded":"true","aria-label":"Toggle navigation"},"Analyze Cluster"),l.a.createElement("br",null),l.a.createElement("div",{className:"acc-cluster collapse",id:"accCluster",style:{minHeight:"100px"}},l.a.createElement("div",null,l.a.createElement("div",{className:"clus-head d-flex align-items-center"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"alert alert-info d-flex mb-0",role:"alert"},l.a.createElement("span",null,"Customer Time")),l.a.createElement("div",{className:"ml-2 alert alert-info d-flex  mb-0",role:"alert"},l.a.createElement("span",null,"Balance")),l.a.createElement("div",{className:"ml-2 d-flex align-items-center mb-0",role:"alert"},l.a.createElement("input",{type:"text",ref:this.clusterRef,className:"form-control",placeholder:"Cluster","aria-label":"Username","aria-describedby":"basic-addon1",style:{width:"100px"}}))),l.a.createElement("div",{className:"startBtn ml-4"},l.a.createElement("button",{type:"button",onClick:this.clusterAnalyze,className:"btn  btn-outline-warning"},"Start"))),l.a.createElement("canvas",{id:"canvas-scatter",width:"90%",style:{display:"none"}}),l.a.createElement("div",{className:"clus-body row"},this.listCluster.map((function(e,a){return l.a.createElement("div",{key:a,className:"col-md-6 text-light"},l.a.createElement("div",{className:"body-head  bg-dark"},l.a.createElement("div",{className:"d-flex align-item-center"},l.a.createElement("div",{className:"peer-body-head"},"Cluster:  ",l.a.createElement("span",{id:"min-time"},a+1),"  "),l.a.createElement("div",{className:"peer-body-head"},"Centroid:  ",l.a.createElement("span",{id:"min-time"},e.kernel),"  ")),l.a.createElement("div",{className:"d-flex align-item-center"},l.a.createElement("div",{className:"peer-body-head"},"Balance ",l.a.createElement("span",{id:"min-bal"},e.minB)," -> ",l.a.createElement("span",{id:"max-bal"},e.maxB),"  "),l.a.createElement("div",{className:"peer-body-head"},"Time ",l.a.createElement("span",{id:"min-time"},e.minT)," -> ",l.a.createElement("span",{id:"max-time"},e.maxT),"  "),l.a.createElement("div",{className:"peer-body-head"},"Total ",l.a.createElement("span",{id:"min-time"},e.data.length),"  "))),l.a.createElement("div",{className:"body-bod"},l.a.createElement("div",{className:"tblss"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Customer ID"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Customer balance"),l.a.createElement("th",{scope:"col"},"Date Joined"))),l.a.createElement("tbody",{className:"thead-tbody",id:"tbl-body"},e.data.map((function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,e[0]),l.a.createElement("td",null,e[1]),l.a.createElement("td",null,e[2]),l.a.createElement("td",null,e[3]))})))))))}))))),l.a.createElement("div",{className:"dropdown-divider",style:{border:"solid 1px gray"}}),l.a.createElement("h2",{className:"ml-auto mr-3",style:{cursor:"pointer"},"data-toggle":"collapse","data-target":"#accountTbl","aria-controls":"accountTbl","aria-expanded":"true","aria-label":"Toggle navigation"},"Search customer"),l.a.createElement("br",null),l.a.createElement("div",{className:"acc-frame"},l.a.createElement("div",{className:"toasts",id:"toasts",role:"alert","aria-live":"assertive","aria-atomic":"true",style:{display:"none"}},l.a.createElement("div",{className:"toasts-header "},l.a.createElement("strong",{className:"mr-auto"},l.a.createElement("span",{id:"spin-wait"},l.a.createElement("div",{className:"spinner-grow text-info",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))," About:",l.a.createElement("span",{id:"cusname"},"B\xf9i Phi Long")),l.a.createElement("small",null,l.a.createElement("span",{id:"countDayLeave"},"3")," days ago"),l.a.createElement("button",{onClick:this.closeToast,type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"toasts-body"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," Customer ID: "),l.a.createElement("i",null,l.a.createElement("span",{id:"cusID"},"04912302183912830912"))," "),l.a.createElement("p",{className:"noneMargin ml-auto"},l.a.createElement("b",null," Level: "),l.a.createElement("i",null,l.a.createElement("span",{id:"cusLevel"},"Normal"))," ")),l.a.createElement("div",{className:"ewew"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," Address: "),l.a.createElement("span",{id:"cusAddr"},"126 Th\xf4n 7, Gia Hi\u1ec7p, Di Linh, L\xe2m \u0110\u1ed3ng")," ")),l.a.createElement("div",{className:"ewew"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," Contact: "),l.a.createElement("span",{id:"cusContact"},"0969359810")," ")),l.a.createElement("div",{className:"ewew"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," Email: "),l.a.createElement("span",{id:"cusEmail"},"long.builong.bui@hcmut.edu.vn")," ")),l.a.createElement("div",{className:"ewew"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," Date of births: "),l.a.createElement("span",{id:"cusDOB"},"10/05/1999")," ")),l.a.createElement("div",{className:"ewew"},l.a.createElement("p",{className:"noneMargin"},l.a.createElement("b",null," State: "),l.a.createElement("span",{id:"cusState"},"Expire")," ")))),l.a.createElement("div",{className:"tblSearchAccount mb-5 collapse",id:"accountTbl"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"}),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-head thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("input",{ref:this.listRefs[0],className:"ipSearch bg-dark",onKeyUp:this.handleKeyPress,type:"text",placeholder:" Customner name"})),l.a.createElement("th",{scope:"col"},l.a.createElement("input",{ref:this.listRefs[1],className:"ipSearch bg-dark",onKeyUp:this.handleKeyPress,type:"text",placeholder:"Contact"})),l.a.createElement("th",{scope:"col"},l.a.createElement("input",{ref:this.listRefs[2],className:"ipSearch bg-dark",onKeyUp:this.handleKeyPress,type:"text",placeholder:"Email"})),l.a.createElement("th",{scope:"col"},l.a.createElement("input",{ref:this.listRefs[3],className:"ipSearch bg-dark",onKeyUp:this.handleKeyPress,type:"text",placeholder:"Last Access"}))))),l.a.createElement("div",{className:"tbls"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"------------------------------"),l.a.createElement("th",{scope:"col"},"------------------------------"),l.a.createElement("th",{scope:"col"},"------------------------------"),l.a.createElement("th",{scope:"col"},"------------------------------"))),l.a.createElement("tbody",{className:"thead-tbody",id:"tbl-body"},this.listAccount.map((function(a,t){return l.a.createElement("tr",{key:t,onClick:function(){return e.displayToast(a._id)}},l.a.createElement("td",null,l.a.createElement("b",null,a.Fname+" "+a.Lname)),l.a.createElement("td",null,a.Contact),l.a.createElement("td",null,a.Email),l.a.createElement("td",null,a.LastAccess))})))))))))))}}]),t}(l.a.Component),I=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2 bg-dark-linear"},l.a.createElement("div",{className:" pt-2 pb-2 styling"},l.a.createElement("div",{className:"listActive text-light pl-4",style:{fontWeight:500}},l.a.createElement("div",{className:"active-header"},l.a.createElement("p",{className:"head-title",id:"authSignUp",type:"button","data-toggle":"collapse","data-target":"#dashboardNav","aria-controls":"dashboardNav","aria-expanded":"true","aria-label":"Toggle navigation"},l.a.createElement("i",{className:"fas fa-fill-drip"})," Dashboard style"),l.a.createElement("p",{className:"dropdown-divider"}),l.a.createElement("div",{className:"activeChildrenList collapse",id:"dashboardNav"},l.a.createElement("p",{className:"per-child"},"Standard "),l.a.createElement("p",{className:"per-child"},"Advance "))),l.a.createElement("div",{className:"active-header"},l.a.createElement("p",{className:"head-title",id:"authSignUp",type:"button","data-toggle":"collapse","data-target":"#dashboardNav2","aria-controls":"dashboardNav2","aria-expanded":"true","aria-label":"Toggle navigation"},l.a.createElement("i",{className:"fas fa-chart-line"})," System analysis"),l.a.createElement("p",{className:"dropdown-divider"}),l.a.createElement("div",{className:"activeChildrenList collapse",id:"dashboardNav2"},l.a.createElement(d.b,{className:"per-child",to:"/admin/analysis/account-options"},"Account "),l.a.createElement(d.b,{className:"per-child",to:"/admin/analysis/device-options"},"Device "),l.a.createElement(d.b,{className:"per-child",to:"/admin/analysis/income-information"},"Income ")))))),l.a.createElement("div",{className:"col-md-10 maining"},l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/admin/analysis"},l.a.createElement(j,null)),l.a.createElement(u.a,{exact:!0,path:"/admin/analysis/account-options"},l.a.createElement(D,null)))))}}]),t}(l.a.Component),L=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).defaultDirectClass="dropdown-item",n.defaultDirectSize=3,n.preLinkDirect=null,n.AnalysisRef=l.a.createRef(),n}return Object(i.a)(t,[{key:"isAdmLogin",value:function(){var e=this;v.a.post("/auth/admin-is-loggin").then((function(a){a.data?"/admin"===window.location.pathname&&(console.log("OK"),e.AnalysisRef.current.click()):window.location.replace("/")}))}},{key:"componentDidMount",value:function(){this.isAdmLogin(),console.log(window.location.pathname)}},{key:"logoutRequest",value:function(){v.a.post("/logout-request").then((function(e){e&&window.location.reload("/")}))}},{key:"render",value:function(){return l.a.createElement("div",{style:{backgroundColor:"#f0f1f7"}},l.a.createElement("div",null,l.a.createElement("button",{id:"button-popup",style:{display:"none"},"data-toggle":"collapse","data-target":"#container-popup","aria-controls":"container-popup","aria-expanded":"true","aria-label":"Toggle navigation"}),l.a.createElement("div",{className:"pop-up collapse",id:"container-popup"},l.a.createElement("div",{className:"background-popup"}),l.a.createElement("div",{className:"pop-up-main"},l.a.createElement("div",{className:"container-fluid row",id:"myPopup"})))),l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2 pt-2 pb-2 bg-dark-l",style:{borderBottom:"solid 2px #2c3136"}},l.a.createElement("div",{className:"header d-flex justify-content-center"},l.a.createElement("div",{className:"header-logo mr-3"},l.a.createElement("img",{src:w.a,alt:"LOGO",style:{width:"50px",height:"50px"}})),l.a.createElement("div",{className:"header-appDes"},l.a.createElement(d.b,{className:"navbar-brand",to:"/admin/analysis"},l.a.createElement("span",{className:"span-header"},"AZbot"))))),l.a.createElement("div",{className:"col-md-10 bg-light d-flex align-items-center"},l.a.createElement("div",{className:"header-toolbelt d-flex "},l.a.createElement("div",{className:"left d-flex"},l.a.createElement(d.b,{className:"peer-toolbelt",to:"/admin/analysis",ref:this.AnalysisRef},l.a.createElement("i",{className:"fas fa-ellipsis-v"})," Analysis"),l.a.createElement(d.b,{className:"peer-toolbelt",to:"/admin/message"},l.a.createElement("i",{className:"fas fa-bell"})," Message"))),l.a.createElement("div",{className:"right d-flex ml-auto mr-3"},l.a.createElement("div",{className:"peer-toolbelt2"},l.a.createElement("button",{onClick:this.logoutRequest,type:"button",className:"btn btn-outline-primary"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-sign-out-alt"})),"Sign out")))))),l.a.createElement("div",{className:"body"},l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/admin/analysis"},l.a.createElement(I,null)),l.a.createElement(u.a,{path:"/admin/message"},l.a.createElement(y,null)))))}}]),t}(l.a.Component),P=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.StrictMode,null,l.a.createElement(d.a,null,l.a.createElement(u.a,{path:"/admin"},l.a.createElement(L,null))))}}]),t}(l.a.Component);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.3794c9db.chunk.js.map